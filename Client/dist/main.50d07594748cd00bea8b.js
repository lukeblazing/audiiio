/*! For license information please see main.50d07594748cd00bea8b.js.LICENSE.txt */
(()=>{"use strict";var t,e,r,n={9986:(t,e,r)=>{var n,o=r(6540),i=r(5338),a=r(4976),c=r(7767),u=r(4519),l=r(7164),s=r(7437),f=r(4675);var p,d,h=(0,s.i7)(n||(p=["\n  100% {\n    transform: rotate(360deg);\n  }\n"],d||(d=p.slice(0)),n=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(d)}}))));const m=function(t){var e=t.open,r=void 0===e||e,n=t.size,i=void 0===n?60:n,a=t.thickness,c=void 0===a?5:a,u=t.color,s=(0,f.A)(),p=u||s.palette.primary.main;return r?o.createElement(l.A,{sx:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0,0,0,0.2)",zIndex:s.zIndex.modal}},o.createElement(l.A,{sx:{width:i,height:i,borderRadius:"50%",border:"".concat(c,"px solid"),borderColor:"".concat(p," ").concat(p," transparent transparent"),animation:"".concat(h," 0.8s linear infinite")}})):null};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(){w=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:A(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",v={};function g(){}function b(){}function x(){}var E={};l(E,a,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(_([])));k&&k!==r&&n.call(k,a)&&(E=k);var O=x.prototype=g.prototype=Object.create(E);function j(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==y(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function A(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=T(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:d,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(y(e)+" is not iterable")}return b.prototype=x,o(O,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},j(L.prototype),l(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new L(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(O),l(O,u,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function x(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function E(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){x(i,n,o,a,c,"next",t)}function c(t){x(i,n,o,a,c,"throw",t)}a(void 0)}))}}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var O=(0,o.createContext)(),j=function(){return(0,o.useContext)(O)},L=function(t){var e=t.children,r=S((0,o.useState)(!1),2),n=r[0],i=r[1],a=S((0,o.useState)(null),2),c=a[0],u=a[1],l=S((0,o.useState)(null),2),s=l[0],f=l[1],p=S((0,o.useState)(!0),2),d=p[0],h=p[1],y=S((0,o.useState)(null),2),v=y[0],b=y[1],x=function(){var t=E(w().mark((function t(){var e,r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://www.audiiio.com/api","/authCheck"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 3:if(!(e=t.sent).ok){t.next=13;break}return t.next=7,e.json();case 7:r=t.sent,i(!0),f(r.role),b(r.user),t.next=16;break;case 13:i(!1),f(null),b(null);case 16:t.next=24;break;case 18:t.prev=18,t.t0=t.catch(0),console.error("Failed to fetch auth status:",t.t0),i(!1),f(null),b(null);case 24:return t.prev=24,h(!1),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[0,18,24,27]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=E(w().mark((function t(){var e,r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://www.audiiio.com/api","/checkAccessCode"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 3:if(!(e=t.sent).ok){t.next=12;break}return t.next=7,e.json();case 7:return r=t.sent,u(!0),t.abrupt("return",g({valid:!0},r));case 12:return u(!1),t.abrupt("return",{valid:!1});case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(0),console.error("Failed to check access code:",t.t0),t.abrupt("return",{valid:!1,error:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){x(),k()}),[]),d?o.createElement(m,null):o.createElement(O.Provider,{value:{isAuthenticated:n,hasAccessCode:c,handleAccessCodeGranted:function(t){u(!0)},userRole:s,handleLogin:function(t){i(!0),f(t.role),b(t.user)},handleLogout:function(){i(!1),u(!1),f(null),b(null)},userData:v}},e)},A=r(4977),T=r(8644),P=r(3357),I=r(779),C=r(1230),_=r(3551),R=r(3003),F=r(1848);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function M(){M=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(I([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==N(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:d,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(N(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(O.prototype),l(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),l(S,u,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function W(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return z(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function D(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var B=(0,F.Ay)(A.A)((function(t){var e=t.theme;return D(D(D({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:e.spacing(4),gap:e.spacing(2),margin:"auto"},e.breakpoints.up("sm"),{maxWidth:"420px"}),"borderRadius",e.spacing(2)),"boxShadow","rgba(0, 0, 0, 0.05) 0px 5px 15px, rgba(0, 0, 0, 0.05) 0px 15px 35px -5px")})),Y=(0,F.Ay)(R.A)((function(t){return{paddingLeft:20,paddingRight:20,height:"100vh",minHeight:500,justifyContent:"center",alignItems:"center",position:"fixed",top:0,left:0,right:0,zIndex:9999,background:t.theme.palette.background.default}}));function U(){var t=G((0,o.useState)(""),2),e=t[0],r=t[1],n=G((0,o.useState)(""),2),i=n[0],a=n[1],c=G((0,o.useState)(!1),2),s=c[0],p=c[1],d=j().handleAccessCodeGranted,h=(0,o.useRef)(),m=((0,f.A)(),function(){var t,n=(t=M().mark((function t(n){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),5===e.length){t.next=4;break}return a("Enter the 5-digit access code"),t.abrupt("return");case 4:return p(!0),a(""),t.prev=6,t.next=9,fetch("".concat("https://www.audiiio.com/api","/submitAccessCode"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessCode:e})});case 9:return o=t.sent,t.next=12,o.json();case 12:i=t.sent,o.ok&&i.valid?d(!0):(a(i.message||"Invalid access code"),r("")),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0),a("Network error, try again.");case 20:return t.prev=20,p(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[6,16,20,23]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){W(i,n,o,a,c,"next",t)}function c(t){W(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}());return o.useEffect((function(){h.current&&h.current.focus()}),[]),o.createElement(Y,null,o.createElement(u.Ay,{enableColorScheme:!0}),o.createElement(B,{variant:"outlined"},o.createElement(l.A,{display:"flex",alignItems:"center"},o.createElement(_.A,{variant:"h6",sx:{marginLeft:1,fontWeight:"bold",fontFamily:"Roboto, sans-serif",fontSize:"1.3rem"}},"Access Code")),o.createElement(l.A,{component:"form",onSubmit:m,sx:{display:"flex",flexDirection:"column",gap:2,width:"100%",mt:2}},o.createElement(I.A,{fullWidth:!0},o.createElement(C.A,{inputRef:h,id:"access-code-input",type:"tel",inputMode:"numeric",pattern:"[0-9]*",placeholder:"12345",autoFocus:!0,value:e,onChange:function(t){var e=t.target.value.replace(/\D/g,"").slice(0,5);r(e),a("")},error:Boolean(i),helperText:i,inputProps:{maxLength:5,inputMode:"numeric",pattern:"[0-9]*",style:{fontSize:"2rem",letterSpacing:"0.5rem",textAlign:"center"}},disabled:s,variant:"outlined",fullWidth:!0})),o.createElement(T.A,{type:"submit",disableRipple:!0,variant:"contained",disabled:s||5!==e.length,sx:{position:"relative",fontWeight:700,fontSize:"1.1rem",letterSpacing:1,py:1.2},fullWidth:!0},s?o.createElement(P.A,{size:24,color:"inherit"}):"Continue"))))}const X=function(t){var e=t.children,r=j().hasAccessCode;return null===r?o.createElement(m,null):r?o.createElement(o.Fragment,null,e):o.createElement(U,null)};var q=r(4389),J=r(8864),H=r(9307),$=r(5001),V=r(5765);function Z(){return o.createElement(V.A,null,o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},o.createElement("circle",{cx:"12",cy:"12",r:"5",fill:"#FFDD57"})," ",o.createElement("path",{d:"M12 1v3M12 20v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M1 12h3M20 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12",stroke:"#FFDD57",strokeWidth:"2"})))}function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Q(){Q=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(I([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==K(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:d,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(K(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(O.prototype),l(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),l(S,u,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function tt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ot(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var it=(0,F.Ay)(A.A)((function(t){var e=t.theme;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach((function(e){ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(ot(ot({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:e.spacing(4),gap:e.spacing(2),margin:"auto"},e.breakpoints.up("sm"),{maxWidth:"450px"}),"boxShadow","hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px"),e.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"}))})),at=(0,F.Ay)(R.A)((function(t){t.theme;return{paddingLeft:20,paddingRight:20,height:"100%",position:"relative",zIndex:0}}));function ct(){var t=et((0,o.useState)(!1),2),e=t[0],r=t[1],n=et((0,o.useState)(""),2),i=n[0],s=n[1],f=et((0,o.useState)(!1),2),p=f[0],d=f[1],h=et((0,o.useState)(""),2),y=h[0],v=h[1],g=et((0,o.useState)(!1),2),b=g[0],w=g[1],x=et((0,o.useState)(""),2),E=x[0],S=x[1],k=et((0,o.useState)(!1),2),O=k[0],L=k[1],A=j().handleLogin,R=(0,c.Zp)(),F=(0,o.useRef)(null),N=(0,o.useRef)(null),M=(0,o.useRef)(null),W=function(){var t=F.current.value.trim(),e=N.current.value.trim(),n=M.current.value.trim(),o=!0;return t?(w(!1),S("")):(w(!0),S("Name is required."),o=!1),e&&/\S+@\S+\.\S+/.test(e)?(r(!1),s("")):(r(!0),s("Please enter a valid email address."),o=!1),!n||n.length<6?(d(!0),v("Password must be at least 6 characters long."),o=!1):(d(!1),v("")),o},G=function(){var t,e=(t=Q().mark((function t(e){var r,n,o,i,a,c;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),W()){t.next=3;break}return t.abrupt("return");case 3:return L(!0),r=new FormData(e.currentTarget),n=r.get("name").trim(),o=r.get("email").trim(),i=r.get("password").trim(),t.prev=8,t.next=11,fetch("".concat("https://www.audiiio.com/api","/signUp"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:o,password:i})});case 11:return a=t.sent,t.next=14,a.json();case 14:c=t.sent,a.ok?(A(c),R("/")):(d(!0),v(c.message||"There was an error signing up.")),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(8),console.error("Error during sign up:",t.t0),d(!0),v("There was an error signing up. Please try again.");case 23:return t.prev=23,L(!1),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[8,18,23,26]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tt(i,n,o,a,c,"next",t)}function c(t){tt(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();return o.createElement("div",{id:"safe-area-wrapper"},O&&o.createElement(m,null),o.createElement(u.Ay,{enableColorScheme:!0}),o.createElement(at,{direction:"column",justifyContent:"space-between"},o.createElement(it,{variant:"outlined"},o.createElement(l.A,{display:"flex",alignItems:"center"},o.createElement(Z,null),o.createElement(_.A,{variant:"h6",sx:{marginLeft:1,fontWeight:"bold",fontFamily:"Roboto, sans-serif",fontSize:"1.5rem"}},"Welcome")),o.createElement(_.A,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"}},"Sign up"),o.createElement(l.A,{component:"form",onSubmit:G,sx:{display:"flex",flexDirection:"column",gap:2},noValidate:!0},o.createElement(I.A,{fullWidth:!0},o.createElement(H.A,{htmlFor:"sign-up-name"},"Full name"),o.createElement(C.A,{autoComplete:"name",name:"name",required:!0,fullWidth:!0,id:"sign-up-name",placeholder:"Jon Snow",error:b,helperText:E,color:b?"error":"primary",inputRef:F})),o.createElement(I.A,{fullWidth:!0},o.createElement(H.A,{htmlFor:"sign-up-email"},"Email"),o.createElement(C.A,{required:!0,fullWidth:!0,id:"sign-up-email",placeholder:"your@email.com",name:"email",autoComplete:"email",variant:"outlined",error:e,helperText:i,color:e?"error":"primary",inputRef:N})),o.createElement(I.A,{fullWidth:!0},o.createElement(H.A,{htmlFor:"sign-up-password"},"Password"),o.createElement(C.A,{required:!0,fullWidth:!0,name:"password",placeholder:"••••••",type:"password",id:"sign-up-password",autoComplete:"new-password",variant:"outlined",error:p,helperText:y,color:p?"error":"primary",inputRef:M})),o.createElement(J.A,{control:o.createElement(q.A,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."}),o.createElement(T.A,{type:"submit",fullWidth:!0,variant:"contained",disableRipple:!0,disabled:O,sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"3rem"}},O?o.createElement(o.Fragment,null,o.createElement(P.A,{size:24,color:"inherit"}),o.createElement(_.A,{variant:"button",sx:{marginLeft:1}},"Signing up...")):"Sign up"),o.createElement(_.A,{sx:{textAlign:"center"}},"Already have an account?"," ",o.createElement("span",null,o.createElement($.A,{component:a.N_,to:"/sign-in",variant:"body2"},"Sign in")))))))}var ut=r(5556),lt=r(8031),st=r(8763),ft=r(2477),pt=r(7867),dt=r(6831),ht=r(6757),mt=r(9571);function yt(t){var e=t.isForgotPwdOpen,r=t.handleForgotPwdClose,n=(0,o.useRef)(null);return o.createElement(lt.A,{open:e,onClose:r,"aria-labelledby":"forgot-password-dialog-title","aria-describedby":"forgot-password-dialog-description"},o.createElement(dt.A,{id:"forgot-password-dialog-title"},"Reset Password"),o.createElement(ft.A,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"}},o.createElement(pt.A,{id:"forgot-password-dialog-description"},"Enter your account's email address, and we'll send you a link to reset your password."),o.createElement("form",{onSubmit:function(t){t.preventDefault();var e=n.current.value;e?alert("Password reset link sent to ".concat(e)):alert("Please enter your email address."),r()}},o.createElement(I.A,{variant:"outlined",fullWidth:!0,required:!0},o.createElement(mt.A,{htmlFor:"forgot-email"},"Email Address"),o.createElement(ht.A,{autoFocus:!0,margin:"dense",id:"forgot-email",name:"forgot-email",type:"email",placeholder:"Email address",label:"Email Address",inputRef:n})),o.createElement(st.A,{sx:{pb:3,px:3}},o.createElement(T.A,{disableRipple:!0,onClick:r},"Cancel"),o.createElement(T.A,{disableRipple:!0,variant:"contained",type:"submit"},"Continue")))))}yt.propTypes={handleForgotPwdClose:ut.func.isRequired,isForgotPwdOpen:ut.bool.isRequired};const vt=yt;function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function bt(){bt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(I([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==gt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:d,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(gt(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(O.prototype),l(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),l(S,u,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function wt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function xt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Et(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function St(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=gt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kt=(0,F.Ay)(A.A)((function(t){var e=t.theme;return St(St(St({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:e.spacing(4),gap:e.spacing(2),margin:"auto"},e.breakpoints.up("sm"),{maxWidth:"450px"}),"borderRadius",e.spacing(2)),"boxShadow","rgba(0, 0, 0, 0.05) 0px 5px 15px, rgba(0, 0, 0, 0.05) 0px 15px 35px -5px")})),Ot=(0,F.Ay)(R.A)((function(t){t.theme;return{paddingLeft:20,paddingRight:20,height:"100%",position:"relative",zIndex:0}}));function jt(){var t=xt((0,o.useState)(!1),2),e=t[0],r=t[1],n=xt((0,o.useState)(""),2),i=n[0],s=n[1],p=xt((0,o.useState)(!1),2),d=p[0],h=p[1],y=xt((0,o.useState)(""),2),v=y[0],g=y[1],b=xt((0,o.useState)(!1),2),w=b[0],x=b[1],E=xt((0,o.useState)(!1),2),S=E[0],k=E[1],O=((0,f.A)(),j().handleLogin),L=(0,c.Zp)(),A=(0,o.useRef)(null),R=(0,o.useRef)(null),F=function(){var t=A.current.value,e=R.current.value,n=!0;return t&&/\S+@\S+\.\S+/.test(t)?(r(!1),s("")):(r(!0),s("Please enter a valid email address."),n=!1),!e||e.length<6?(h(!0),g("Password must be at least 6 characters long."),n=!1):(h(!1),g("")),n},N=function(){var t,e=(t=bt().mark((function t(e){var r,n,o,i,a;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),F()){t.next=3;break}return t.abrupt("return");case 3:return k(!0),r=new FormData(e.currentTarget),n=r.get("email"),o=r.get("password"),t.prev=7,t.next=10,fetch("".concat("https://www.audiiio.com/api","/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:o})});case 10:return i=t.sent,t.next=13,i.json();case 13:a=t.sent,i.ok?(O(a),L("/")):(h(!0),g(a.message||"There was an error logging in.")),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(7),console.error("Error during login:",t.t0),h(!0),g("There was an error logging in. Please try again!!");case 22:return t.prev=22,k(!1),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[7,17,22,25]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wt(i,n,o,a,c,"next",t)}function c(t){wt(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();return o.createElement("div",{id:"safe-area-wrapper"},S&&o.createElement(m,null),o.createElement(u.Ay,{enableColorScheme:!0}),o.createElement(Ot,{direction:"column",justifyContent:"center"},o.createElement(kt,{variant:"outlined"},o.createElement(l.A,{display:"flex",alignItems:"center"},o.createElement(Z,null),o.createElement(_.A,{variant:"h6",sx:{marginLeft:1,fontWeight:"bold",fontFamily:"Roboto, sans-serif",fontSize:"1.5rem"}},"Sign In")),o.createElement(l.A,{component:"form",onSubmit:N,noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:2}},o.createElement(I.A,{fullWidth:!0},o.createElement(H.A,{htmlFor:"sign-in-email"},"Email"),o.createElement(C.A,{error:e,helperText:i,id:"sign-in-email",type:"email",name:"email",placeholder:"your@email.com",autoComplete:"email",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:e?"error":"primary",inputRef:A})),o.createElement(I.A,{fullWidth:!0},o.createElement(H.A,{htmlFor:"sign-in-password"},"Password"),o.createElement(C.A,{error:d,helperText:v,name:"password",placeholder:"••••••",type:"password",id:"sign-in-password",autoComplete:"current-password",required:!0,fullWidth:!0,variant:"outlined",color:d?"error":"primary",inputRef:R})),o.createElement(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1,color:"rgba(0, 0, 0, 0.6)"}}),o.createElement(T.A,{type:"submit",disableRipple:!0,fullWidth:!0,variant:"contained",disabled:S,sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",gap:1}},S?o.createElement(o.Fragment,null,o.createElement(P.A,{size:24,color:"inherit"}),o.createElement(_.A,{variant:"button",sx:{marginLeft:1}},"Signing in...")):"Sign in"),o.createElement(_.A,{sx:{textAlign:"center"}},o.createElement("span",null,o.createElement($.A,{component:a.N_,to:"/",variant:"body2"},"Cancel"))))),o.createElement(vt,{isForgotPwdOpen:w,handleForgotPwdClose:function(){x(!1)}})))}var Lt=r(8221);const At=(0,r(4360).A)({palette:{mode:"dark",primary:{main:"#3b82f6"},background:{default:"transparent"},text:{primary:"#ffffff",secondary:"#cbd5e1",disabled:"#94a3b8"},divider:"rgba(255, 255, 255, 0.12)"},typography:{fontFamily:"Roboto, sans-serif",button:{textTransform:"none"}},components:{MuiModal:{defaultProps:{disableAutoFocus:!0,disableEnforceFocus:!0}},MuiCssBaseline:{styleOverrides:{body:{backgroundColor:"transparent"}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButtonGroup:{defaultProps:{disableRipple:!0}},MuiButton:{defaultProps:{disableRipple:!0},styleOverrides:{root:{color:"#fff",fontWeight:500,borderRadius:"8px",padding:"8px 16px",fontSize:"16px",border:"1px solid rgba(255, 255, 255, 0.2)",backgroundColor:"#334155","&:disabled":{backgroundColor:"rgba(255, 255, 255, 0.12)",color:"rgba(255, 255, 255, 0.3)"}}}},MuiToggleButton:{defaultProps:{disableRipple:!0}},MuiCard:{styleOverrides:{root:{backgroundColor:"background.paper",color:"#fff",borderRadius:"12px"}}},MuiTextField:{styleOverrides:{root:{"& .MuiInputBase-root":{color:"#fff",backgroundColor:"#1e293b",borderRadius:"6px"},"& .MuiInputBase-input::placeholder":{color:"rgba(255,255,255,0.5)"},"& .MuiFormHelperText-root":{color:"#f87171"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.23)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#3b82f6"}}}},MuiFormLabel:{styleOverrides:{root:{color:"#cbd5e1","&.Mui-focused":{color:"#3b82f6"}}}},MuiFormControlLabel:{styleOverrides:{label:{color:"#cbd5e1"}}},MuiLink:{styleOverrides:{root:{color:"#3b82f6"}}},MuiSvgIcon:{styleOverrides:{root:{color:"#cbd5e1"}}}}});var Tt=r(3069),Pt=r(1385),It=r(356),Ct=r(5274),_t=r(9419),Rt=r(6526),Ft=r(9799),Nt=r(4090),Mt=r(7211),Wt=r(8129),Gt=r(4545),zt=r(8605),Dt=[{text:"Audio",icon:o.createElement(zt.A,null),path:"/"}],Bt=[];function Yt(t){var e=t.toggleDrawer,r=(0,c.Zp)(),n=(0,c.zy)();return o.createElement(R.A,{sx:{flexGrow:1,p:1,justifyContent:"space-between"}},o.createElement(Ft.A,null,Dt.map((function(t,i){return o.createElement(Nt.Ay,{key:i,disablePadding:!0,sx:{display:"block"}},o.createElement(Mt.A,{disableRipple:!0,selected:n.pathname===t.path,sx:{py:1.5},onClick:function(){return n=t.path,r(n),void e(!1);var n}},o.createElement(Wt.A,{sx:{minWidth:48}},t.icon),o.createElement(Gt.A,{primary:t.text,primaryTypographyProps:{fontSize:"1.1rem"}})))}))),o.createElement(l.A,null,o.createElement(Ft.A,null,Bt.map((function(t,e){return o.createElement(Nt.Ay,{key:e,disablePadding:!0,sx:{display:"block"}},o.createElement(Mt.A,{sx:{py:1.5}},o.createElement(Wt.A,{sx:{minWidth:48}},t.icon),o.createElement(Gt.A,{primary:t.text,primaryTypographyProps:{fontSize:"1.1rem"}})))})))))}function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Xt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Ut(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ut(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qt(){qt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(I([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Ut(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:d,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ut(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(O.prototype),l(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),l(S,u,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Jt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Ht(t){var e=t.open,r=t.toggleDrawer,n=j(),i=n.isAuthenticated,a=n.handleLogout,c=n.userData,u=function(){var t,e=(t=qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://www.audiiio.com/api","/logout"),{method:"POST",credentials:"include"});case 3:t.sent.ok?a():console.error("Logout failed"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error during logout:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Jt(i,n,o,a,c,"next",t)}function c(t){Jt(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return o.createElement(Ct.Ay,{anchor:"left",open:e,onClose:function(){return r(!1)},sx:Xt({},"& .".concat(_t.A.paper),{backgroundImage:"none",backdropFilter:"blur(22px)",background:"transparent",paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)",boxSizing:"border-box"})},o.createElement(R.A,{sx:{maxWidth:"70dvw",minWidth:"20dvw",height:"100%"}},o.createElement(R.A,{direction:"row",sx:{p:2,pb:0,gap:1}},o.createElement(R.A,{direction:"row",sx:{gap:1,alignItems:"center",flexGrow:1,p:1}},o.createElement(Pt.A,{sizes:"small",alt:c?c.name:"Guest",src:"icons/app-icon-v5.png",sx:{width:24,height:24}}),o.createElement(_.A,{component:"p",variant:"h6"},c?c.name:"Guest"))),o.createElement(It.A,null),o.createElement(R.A,{sx:{flexGrow:1}},o.createElement(Yt,{toggleDrawer:r}),o.createElement(It.A,null)),o.createElement(R.A,{sx:{p:2}},i?o.createElement(T.A,{variant:"outlined",fullWidth:!0,disableRipple:!0,startIcon:o.createElement(Rt.A,null),onClick:u,sx:{paddingLeft:{xs:"20vw",sm:"15vw",md:"100px"},paddingRight:{xs:"20vw",sm:"15vw",md:"100px"},textTransform:"none"}},"Logout"):o.createElement(T.A,{variant:"outlined",fullWidth:!0,disableRipple:!0,href:"/sign-in",sx:{paddingLeft:{xs:"20vw",sm:"15vw",md:"100px"},paddingRight:{xs:"20vw",sm:"15vw",md:"100px"},textTransform:"none"}},"Sign In"))))}Ht.propTypes={open:ut.bool,toggleDrawer:ut.func.isRequired};const $t=Ht;function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Zt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Kt(){var t=Vt((0,o.useState)(!1),2),e=t[0],r=t[1];return o.createElement(o.Fragment,null,o.createElement("button",{onClick:function(){return r(!0)},"aria-label":"Open menu",style:{background:"transparent",border:"none",color:"#fff",padding:6,display:"grid",placeItems:"center",cursor:"pointer"}},o.createElement(Tt.A,{sx:{fontSize:26}})),o.createElement($t,{open:e,toggleDrawer:r}))}function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function te(t){return function(t){if(Array.isArray(t))return le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ue(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(){ee=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(I([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Qt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:d,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Qt(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(O.prototype),l(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),l(S,u,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function re(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?re(Object(r),!0).forEach((function(e){oe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function oe(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Qt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ie(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ae(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ie(i,n,o,a,c,"next",t)}function c(t){ie(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ce(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||ue(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(t,e){if(t){if("string"==typeof t)return le(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(t,e):void 0}}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function se(){var t="https://www.audiiio.com/api".replace(/\/+$/,""),e=ce((0,o.useState)("library"),2),r=e[0],n=e[1],i=ce((0,o.useState)([]),2),a=i[0],c=i[1],u=ce((0,o.useState)(!1),2),l=u[0],s=u[1],f=ce((0,o.useState)(""),2),p=f[0],d=f[1],h=ce((0,o.useState)([]),2),m=h[0],y=h[1],v=ce((0,o.useState)(!1),2),g=v[0],b=v[1],w=ce((0,o.useState)(""),2),x=w[0],E=w[1],S=ce((0,o.useState)(null),2),k=S[0],O=S[1],j=ce((0,o.useState)([]),2),L=j[0],A=j[1],T=ce((0,o.useState)(!1),2),P=T[0],I=T[1],C=ce((0,o.useState)(null),2),_=C[0],R=C[1],F=ce((0,o.useState)(""),2),N=F[0],M=F[1],W=ce((0,o.useState)(!1),2),G=W[0],z=W[1],D=ce((0,o.useState)(0),2),B=D[0],Y=D[1],U=ce((0,o.useState)(0),2),X=U[0],q=U[1],J=ce((0,o.useState)(!1),2),H=J[0],$=J[1],V=ce((0,o.useState)(0),2),Z=V[0],K=V[1],Q=ce((0,o.useState)(1),2),tt=Q[0],et=(Q[1],ce((0,o.useState)(!1),2)),rt=et[0],nt=et[1],ot=ce((0,o.useState)(""),2),it=(ot[0],ot[1]),at=(0,o.useRef)(null),ct=(0,o.useRef)(null),ut=(0,o.useRef)({t:0,ts:0}),lt=function(){var e=ae(ee().mark((function e(r){var n,o,i,a,c,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},o="".concat(t).concat(r.startsWith("/")?"":"/").concat(r),e.next=4,fetch(o,ne(ne({},n),{},{headers:ne({"Content-Type":"application/json"},n.headers||{}),credentials:"include"}));case 4:if((i=e.sent).ok){e.next=11;break}return e.next=8,safeJson(i);case 8:throw a=e.sent,c=(null==a?void 0:a.error)||"Request failed (".concat(i.status,")"),new Error(c);case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(t){return"playback:".concat(t)},ft=function(t){try{var e=localStorage.getItem(st(t));if(!e)return null;var r=JSON.parse(e);return r&&"number"==typeof r.positionSec?r:null}catch(t){return null}},pt=function(t,e,r){try{localStorage.setItem(st(t),JSON.stringify({positionSec:e,durationSec:r,updatedAt:Date.now()}))}catch(t){}},dt=function(){var t=ae(ee().mark((function t(e,r,n){var o;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(o=Date.now(),!(Math.abs(r-ut.current.t)<1&&o-ut.current.ts<15e3)){t.next=5;break}return t.abrupt("return");case 5:return ut.current={t:r,ts:o},t.prev=6,t.next=9,lt("/audio/playback-position",{method:"POST",body:JSON.stringify({trackId:e,positionSec:r,durationSec:n})});case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(6);case 13:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e,r,n){return t.apply(this,arguments)}}(),ht=function(){var t=ae(ee().mark((function t(e){var r,n;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lt("/audio/playback-position/".concat(e),{method:"GET"});case 3:return r=t.sent,t.next=6,r.json();case 6:if(!(n=t.sent)||"number"!=typeof n.position_sec){t.next=9;break}return t.abrupt("return",{positionSec:n.position_sec||0,durationSec:n.duration_sec||0});case 9:return t.abrupt("return",null);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),mt=function(){var t=ae(ee().mark((function t(){var e,r,n,o,i,a,u=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(u.length>0&&void 0!==u[0]?u[0]:{}).reset,r=void 0!==e&&e,!l){t.next=3;break}return t.abrupt("return");case 3:return s(!0),d(""),t.prev=5,n=r?1:page,o=new URLSearchParams({page:String(n),pageSize:String(30)}).toString(),t.next=10,lt("/audio/tracks?".concat(o),{method:"GET"});case 10:return i=t.sent,t.next=13,i.json();case 13:a=t.sent,c((function(t){return r?a.items||[]:[].concat(te(t),te(a.items||[]))})),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),d(t.t0.message||"Failed to load tracks");case 20:return t.prev=20,s(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(){return t.apply(this,arguments)}}(),yt=function(){var t=ae(ee().mark((function t(e,r){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm('Delete playlist "'.concat(r,'"?\n\nThis cannot be undone.'))){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,lt("/audio/playlists/".concat(e),{method:"DELETE"});case 6:k===e&&(O(null),A([])),gt(),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(3);case 12:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,r){return t.apply(this,arguments)}}(),vt=function(){var t=ae(ee().mark((function t(e,r){var n;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm('Delete "'.concat(r,'"?\n\nThis cannot be undone.'))){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,lt("/audio/tracks/".concat(e),{method:"DELETE"});case 6:c((function(t){return t.filter((function(t){return t.id!==e}))})),(null==_?void 0:_.id)===e&&(null===(n=at.current)||void 0===n||n.pause(),R(null),M(""),z(!1)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(3);case 12:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,r){return t.apply(this,arguments)}}(),gt=function(){var t=ae(ee().mark((function t(){var e,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g){t.next=2;break}return t.abrupt("return");case 2:return b(!0),E(""),t.prev=4,t.next=7,lt("/audio/playlists",{method:"GET"});case 7:return e=t.sent,t.next=10,e.json();case 10:r=t.sent,y(r.items||[]),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),E(t.t0.message||"Failed to load playlists");case 17:return t.prev=17,b(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})));return function(){return t.apply(this,arguments)}}(),bt=function(){var t=ae(ee().mark((function t(e){var r,n;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(!0),t.prev=1,t.next=4,lt("/audio/playlists/".concat(e),{method:"GET"});case 4:return r=t.sent,t.next=7,r.json();case 7:n=t.sent,A(n.items||[]),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),A([]);case 14:return t.prev=14,I(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}(),wt=function(){var t=ae(ee().mark((function t(){var e;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=prompt("Playlist name?")){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,lt("/audio/playlists",{method:"POST",body:JSON.stringify({name:e})});case 6:gt(),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),xt=function(){var t=ae(ee().mark((function t(e,r){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lt("/audio/playlists/".concat(e,"/items"),{method:"POST",body:JSON.stringify({trackId:r})});case 3:k===e&&bt(e),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}(),Et=function(){var t=ae(ee().mark((function t(e,r){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lt("/audio/playlists/".concat(e,"/items/").concat(r),{method:"DELETE"});case 3:k===e&&bt(e),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}(),St=function(){var t=ae(ee().mark((function t(e){var r,n,o;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return nt(!0),it(""),t.prev=2,t.next=5,lt("/audio/tracks/".concat(e.id,"/signed-url"),{method:"GET"});case 5:return r=t.sent,t.next=8,r.json();case 8:if(n=t.sent,o=n.url){t.next=12;break}throw new Error("Signed URL missing");case 12:M(o),R(e),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),it(t.t0.message||"Failed to sign URL");case 19:return t.prev=19,nt(!1),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})));return function(e){return t.apply(this,arguments)}}(),kt=function(){var t=ae(ee().mark((function t(e){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==_||!_.id||!at.current){t.next=4;break}return pt(_.id,at.current.currentTime||0,at.current.duration||0),t.next=4,dt(_.id,at.current.currentTime||0,at.current.duration||0);case 4:return z(!1),q(0),Y(0),M(""),t.next=10,St(e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ot=function(){var t=ae(ee().mark((function t(){var e;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=at.current){t.next=3;break}return t.abrupt("return");case 3:if(t.prev=3,!e.paused){t.next=9;break}return t.next=7,e.play();case 7:t.next=10;break;case 9:e.pause();case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){var t=at.current;if(t){t.playbackRate=tt;var e=function(){var e=ae(ee().mark((function e(){var r,n,o,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(t.duration||0),r=null==_?void 0:_.id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ht(r);case 6:return n=e.sent,o=ft(r),a=(null==(i=n||o)?void 0:i.positionSec)||0,t.duration&&a>t.duration-5&&(a=0),a>1&&(t.currentTime=a,q(a)),e.prev=12,e.next=15,t.play();case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(12);case 19:case"end":return e.stop()}}),e,null,[[12,17]])})));return function(){return e.apply(this,arguments)}}(),r=function(){H||q(t.currentTime||0),z(!t.paused),Y(t.duration||0)},n=function(){return z(!t.paused)};return t.addEventListener("loadedmetadata",e),t.addEventListener("timeupdate",r),t.addEventListener("pause",n),t.addEventListener("play",n),function(){t.removeEventListener("loadedmetadata",e),t.removeEventListener("timeupdate",r),t.removeEventListener("pause",n),t.removeEventListener("play",n)}}}),[N,null==_?void 0:_.id,H,tt]),(0,o.useEffect)((function(){if(null!=_&&_.id){var t=function(){var t=ae(ee().mark((function t(){var e,r,n;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=at.current){t.next=3;break}return t.abrupt("return");case 3:return r=e.currentTime||0,n=e.duration||0,pt(_.id,r,n),t.next=8,dt(_.id,r,n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return ct.current&&window.clearInterval(ct.current),ct.current=window.setInterval((function(){var e=at.current;e&&!e.paused&&isFinite(e.currentTime)&&t()}),1e4),function(){ct.current&&window.clearInterval(ct.current)}}}),[null==_?void 0:_.id]),(0,o.useEffect)((function(){var e=function(){var e=at.current;if(e&&null!=_&&_.id){pt(_.id,e.currentTime||0,e.duration||0);try{var r,n;null===(r=(n=navigator).sendBeacon)||void 0===r||r.call(n,"".concat(t,"/audio/playback-position"),new Blob([JSON.stringify({trackId:_.id,positionSec:e.currentTime||0,durationSec:e.duration||0})],{type:"application/json"}))}catch(t){}}};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),[t,null==_?void 0:_.id]),(0,o.useEffect)((function(){mt({reset:!0})}),[]),(0,o.useEffect)((function(){"playlists"===r&&gt()}),[r]),(0,o.useEffect)((function(){if(a.some((function(t){return"importing"===t.status}))){var t=setTimeout((function(){return mt({reset:!0})}),8e3);return function(){return clearTimeout(t)}}}),[a]);var jt=(0,o.useMemo)((function(){return{root:{fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji",background:"#0b0b0f",color:"#fff",minHeight:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},header:{padding:"14px 16px 10px",position:"sticky",top:0,zIndex:10,background:"rgba(11,11,15,0.92)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255,255,255,0.08)"},titleRow:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},h1:{margin:0,fontSize:20,fontWeight:700,letterSpacing:-.2},pillRow:{display:"flex",gap:8,marginTop:12},pill:function(t){return{padding:"8px 12px",borderRadius:999,border:"1px solid rgba(255,255,255,0.12)",background:t?"rgba(255,255,255,0.16)":"rgba(255,255,255,0.06)",color:"#fff",fontSize:13,fontWeight:600}},search:{marginTop:12,width:"100%",padding:"10px 12px",borderRadius:12,background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.12)",color:"#fff",outline:"none",fontSize:14},content:{flex:1,overflowY:"auto",padding:"10px 12px 92px"},grid:{display:"grid",gridTemplateColumns:"1fr",gap:12},card:{borderRadius:16,background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.10)",overflow:"hidden"},cover:{width:"100%",aspectRatio:"1/1",objectFit:"cover",display:"block"},cardBody:{padding:10,display:"flex",flexDirection:"column",gap:6},tTitle:{fontSize:14,fontWeight:700,lineHeight:1.15},tMeta:{fontSize:12,color:"rgba(255,255,255,0.72)"},btn:{padding:"10px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.08)",color:"#fff",fontWeight:700,fontSize:13},btnPrimary:{padding:"10px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.18)",background:"rgba(255,255,255,0.16)",color:"#fff",fontWeight:800,fontSize:13},row:{display:"flex",alignItems:"center",gap:10},muted:{color:"rgba(255,255,255,0.72)",fontSize:13},error:{marginTop:10,padding:10,borderRadius:12,border:"1px solid rgba(255,90,90,0.35)",background:"rgba(255,90,90,0.10)",color:"#ffd0d0",fontSize:13},bottomNav:{position:"fixed",left:0,right:0,bottom:0,zIndex:20,background:"rgba(11,11,15,0.92)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(255,255,255,0.08)",padding:"10px 10px 12px"},navRow:{display:"flex",gap:8,justifyContent:"space-between"},navBtn:function(t){return{flex:1,padding:"10px 10px",borderRadius:14,border:"1px solid rgba(255,255,255,0.12)",background:t?"rgba(255,255,255,0.16)":"rgba(255,255,255,0.06)",color:"#fff",fontWeight:800,fontSize:12}},mini:{position:"fixed",left:10,right:10,bottom:70,zIndex:25,borderRadius:16,padding:10,display:"flex",flexDirection:"row",alignItems:"center",gap:10,flexWrap:"nowrap",background:"rgba(11,11,15,0.85)",backdropFilter:"blur(14px)",border:"1px solid rgba(255,255,255,0.14)",overflow:"hidden"},miniImg:{width:46,height:46,borderRadius:12,objectFit:"cover"},miniText:{flex:1,minWidth:0},miniTitle:{fontSize:13,fontWeight:800,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},miniMeta:{fontSize:12,color:"rgba(255,255,255,0.72)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},miniBtn:{padding:"10px 12px",borderRadius:14,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(0,0,0,0.25)",color:"#fff",fontWeight:900,fontSize:14},nowWrap:{padding:"8px 12px 72px",display:"flex",flexDirection:"column",height:"100%",maxHeight:"100vh"},nowTop:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:6,flexShrink:0},nowCover:{width:"100%",maxWidth:320,margin:"8px auto 0",borderRadius:18,overflow:"hidden",border:"1px solid rgba(255,255,255,0.10)",background:"rgba(255,255,255,0.05)",flexShrink:0},nowCoverImg:{width:"100%",aspectRatio:"1 / 1",objectFit:"cover",display:"block",maxHeight:"42vh"},nowInfo:{textAlign:"center",padding:"8px 6px 4px",flexShrink:0},nowTitle:{fontSize:17,fontWeight:900,letterSpacing:-.2,margin:0,lineHeight:1.2},nowMeta:{margin:"4px 0 0",color:"rgba(255,255,255,0.72)",fontSize:12,lineHeight:1.2},scrub:{maxWidth:520,margin:"14px auto 0",padding:"0 6px"},range:{width:"100%"},timeRow:{display:"flex",justifyContent:"space-between",fontSize:12,color:"rgba(255,255,255,0.72)"},controls:{display:"flex",justifyContent:"center",gap:10,marginTop:14,flexWrap:"wrap"},ctl:{padding:"12px 14px",borderRadius:16,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(255,255,255,0.08)",color:"#fff",fontWeight:900,fontSize:14,minWidth:78},bigCtl:{padding:"12px 18px",borderRadius:18,border:"1px solid rgba(255,255,255,0.20)",background:"rgba(255,255,255,0.18)",color:"#fff",fontWeight:900,fontSize:15,minWidth:120},speedRow:{display:"flex",justifyContent:"center",gap:8,marginTop:12,flexWrap:"wrap"},speedBtn:function(t){return{padding:"10px 12px",borderRadius:999,border:"1px solid rgba(255,255,255,0.12)",background:t?"rgba(255,255,255,0.16)":"rgba(255,255,255,0.06)",color:"#fff",fontWeight:900,fontSize:13}},divider:{height:1,background:"rgba(255,255,255,0.10)",margin:"12px 0"},list:{display:"flex",flexDirection:"column",gap:10},listItem:{borderRadius:16,border:"1px solid rgba(255,255,255,0.10)",background:"rgba(255,255,255,0.06)",padding:10,display:"flex",gap:10,alignItems:"center"},liImg:{width:56,height:56,borderRadius:14,objectFit:"cover"},liText:{flex:1,minWidth:0},liTitle:{fontSize:14,fontWeight:900,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},liMeta:{fontSize:12,color:"rgba(255,255,255,0.72)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}),[_]),Lt=function(){var t=ce(o.useState(!1),2),e=t[0],r=t[1],n=ce(o.useState(""),2),i=n[0],u=n[1],s=ce(o.useState(!1),2),f=s[0],d=s[1],h=ce(o.useState(""),2),y=h[0],v=h[1],g=ce(o.useState(null),2),b=g[0],w=g[1],x=ce(o.useState(!0),2),E=x[0],S=x[1],k=o.useRef(!1),O=o.useRef(null),j=o.useRef(null),L=o.useRef({startX:0,startY:0,swiping:!1});function A(t){return T.apply(this,arguments)}function T(){return(T=ae(ee().mark((function t(e){var r,n;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e.reset)&&S(!0),t.prev=2,t.next=5,lt("/audio/list",{method:"POST",body:JSON.stringify({page:r?1:page})});case 5:n=t.sent,c((function(t){var e=r?n.items:[].concat(te(t),te(n.items));return(0===n.items.length||e.length>=n.total)&&S(!1),e})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),S(!1);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}o.useEffect((function(){var t=document.createElement("style");return t.innerHTML="\n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n    ",document.head.appendChild(t),function(){return document.head.removeChild(t)}}),[]),o.useEffect((function(){var t;if(O.current&&(null===(t=j.current)||void 0===t||t.disconnect(),E))return j.current=new IntersectionObserver((function(t){ce(t,1)[0].isIntersecting&&!l&&!k.current&&E&&(k.current=!0,A({reset:!1}).finally((function(){k.current=!1})))}),{rootMargin:"200px"}),j.current.observe(O.current),function(){var t;return null===(t=j.current)||void 0===t?void 0:t.disconnect()}}),[E,l]);var P=function(){var t=ae(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.trim()){t.next=2;break}return t.abrupt("return");case 2:return d(!0),v(""),t.prev=4,t.next=7,lt("/audio/import",{method:"POST",body:JSON.stringify({url:i.trim()})});case 7:r(!1),u(""),setTimeout((function(){S(!0),A({reset:!0})}),800),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),v(t.t0.message||"Failed to import");case 15:return t.prev=15,d(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})));return function(){return t.apply(this,arguments)}}();return o.createElement(o.Fragment,null,o.createElement("div",{style:jt.header},o.createElement("div",{style:jt.titleRow},o.createElement(Kt,null),o.createElement("h1",{style:jt.h1},"Library"),o.createElement("div",{style:{display:"flex",gap:8}},o.createElement("button",{style:jt.btnPrimary,onClick:function(){return r(!0)}},"Upload"),o.createElement("button",{style:jt.btn,onClick:function(){return window.location.reload()}},"Refresh"))),p&&o.createElement("div",{style:jt.error},p)),o.createElement("div",{style:jt.content},0===a.length&&!l&&o.createElement("div",{style:ne({padding:12},jt.muted)},"No tracks yet."),o.createElement("div",{style:jt.list},a.map((function(t){return o.createElement("div",{key:t.id,style:jt.listItem,onClick:function(){return"importing"!==t.status&&kt(t)},onTouchStart:function(t){var e=t.touches[0];L.current={startX:e.clientX,startY:e.clientY,swiping:!0}},onTouchMove:function(t){if(L.current.swiping){var e=t.touches[0],r=e.clientX-L.current.startX;Math.abs(e.clientY-L.current.startY)>40?L.current.swiping=!1:(r<0&&(t.currentTarget.style.transform="translateX(".concat(Math.max(r,-120),"px)"),t.currentTarget.style.background="rgba(255,90,90,0.15)"),r>0&&(t.currentTarget.style.transform="translateX(".concat(Math.min(r,120),"px)"),t.currentTarget.style.background="rgba(120,200,255,0.15)"))}},onTouchEnd:function(e){var r=e.changedTouches[0].clientX-L.current.startX;L.current.swiping=!1,e.currentTarget.style.transform="",e.currentTarget.style.background="rgba(255,255,255,0.06)","importing"!==t.status&&(r<-90?vt(t.id,t.title||"Untitled"):r>90&&w(t))}},o.createElement("div",{style:jt.icon},"🎧","importing"===t.status&&o.createElement("div",{style:jt.spinnerOverlay},o.createElement("div",{style:jt.spinner}))),o.createElement("div",{style:jt.cardBody},o.createElement("div",{style:jt.tTitle},t.title||"Untitled"),o.createElement("div",{style:jt.tMeta},"importing"===t.status?"Importing…":[t.artist,t.album].filter(Boolean).join(" • ")||(t.isAudiobook?"Audiobook":"Podcast")),"failed"===t.status&&o.createElement("div",{style:ne(ne({},jt.error),{},{marginTop:6})},"Import failed")))}))),E&&o.createElement("div",{ref:O,style:{height:1}}),l&&o.createElement("div",{style:ne(ne({padding:12},jt.muted),{},{textAlign:"center"})},"Loading…")),b&&o.createElement("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.55)",display:"grid",placeItems:"center",zIndex:120},onClick:function(){return w(null)}},o.createElement("div",{style:{width:"90%",maxWidth:420,background:"#0b0b0f",borderRadius:18,border:"1px solid rgba(255,255,255,0.12)",padding:16},onClick:function(t){return t.stopPropagation()}},o.createElement("h2",null,"Add to Playlist"),m.map((function(t){return o.createElement("button",{key:t.id,style:ne(ne({},jt.btn),{},{width:"100%",marginBottom:8}),onClick:function(){xt(t.id,b.id),w(null)}},t.name)})),o.createElement("button",{style:ne(ne({},jt.btn),{},{marginTop:10}),onClick:function(){return w(null)}},"Cancel"))),e&&o.createElement("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.55)",display:"grid",placeItems:"center",zIndex:100},onClick:function(){return!f&&r(!1)}},o.createElement("div",{style:{width:"90%",maxWidth:420,background:"#0b0b0f",borderRadius:18,border:"1px solid rgba(255,255,255,0.12)",padding:16},onClick:function(t){return t.stopPropagation()}},o.createElement("h2",null,"Import a Track"),o.createElement("input",{style:jt.search,placeholder:"https://...",value:i,onChange:function(t){return u(t.target.value)},disabled:f}),y&&o.createElement("div",{style:ne(ne({},jt.error),{},{marginTop:10})},y),o.createElement("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:14}},o.createElement("button",{style:jt.btn,disabled:f,onClick:function(){return r(!1)}},"Cancel"),o.createElement("button",{style:jt.btnPrimary,disabled:f||!i.trim(),onClick:P},f?"Importing…":"Import")))))},At=function(){var t=sessionStorage.getItem("pendingAddTrackId"),e=sessionStorage.getItem("pendingAddTrackTitle"),r=o.useRef({startX:0,startY:0,swiping:!1});return o.createElement(o.Fragment,null,o.createElement("div",{style:jt.header},o.createElement("div",{style:jt.titleRow},o.createElement("h1",{style:jt.h1},"Playlists"),o.createElement("button",{style:jt.btnPrimary,onClick:wt},"New")),x&&o.createElement("div",{style:jt.error},x),t&&o.createElement("div",{style:ne(ne({},jt.error),{},{borderColor:"rgba(120,200,255,0.35)",background:"rgba(120,200,255,0.10)",color:"#d7efff"})},"Adding: ",o.createElement("b",null,e||t),o.createElement("div",{style:ne({marginTop:8},jt.muted)},"Tap a playlist to add."))),o.createElement("div",{style:jt.content},g&&o.createElement("div",{style:ne({padding:12},jt.muted)},"Loading…"),o.createElement("div",{style:jt.list},m.map((function(e){return o.createElement("div",{key:e.id,style:ne(ne({},jt.listItem),{},{cursor:"pointer",touchAction:"pan-y",transition:"transform 0.15s ease-out"}),onTouchStart:function(t){var e=t.touches[0];r.current={startX:e.clientX,startY:e.clientY,swiping:!0}},onTouchMove:function(t){if(r.current.swiping){var e=t.touches[0],n=e.clientX-r.current.startX;Math.abs(e.clientY-r.current.startY)>40?r.current.swiping=!1:n<0&&(t.currentTarget.style.transform="translateX(".concat(Math.max(n,-120),"px)"),t.currentTarget.style.background="rgba(255,90,90,0.15)")}},onTouchEnd:function(n){var o=r.current.startX;r.current.swiping=!1;var i=n.changedTouches[0].clientX-o;n.currentTarget.style.transform="",n.currentTarget.style.background="rgba(255,255,255,0.06)",i<-90?yt(e.id,e.name):t?xt(e.id,t).then((function(){sessionStorage.removeItem("pendingAddTrackId"),sessionStorage.removeItem("pendingAddTrackTitle")})):(O(e.id),bt(e.id))}},o.createElement("div",{style:{width:56,height:56,borderRadius:14,background:"rgba(255,255,255,0.06)",display:"grid",placeItems:"center",fontWeight:900,fontSize:20,flexShrink:0}},"♫"),o.createElement("div",{style:jt.liText},o.createElement("div",{style:jt.liTitle},e.name),o.createElement("div",{style:jt.liMeta},Number(e.itemCount||0)," items")))}))),k&&o.createElement(o.Fragment,null,o.createElement("div",{style:jt.divider}),o.createElement("div",{style:ne(ne({},jt.row),{},{justifyContent:"space-between",padding:"0 4px"})},o.createElement("div",{style:{fontWeight:900}},"Playlist Items"),o.createElement("button",{style:jt.btn,onClick:function(){return O(null)}},"Back")),P&&o.createElement("div",{style:ne({padding:12},jt.muted)},"Loading…"),o.createElement("div",{style:ne(ne({},jt.list),{},{marginTop:10})},L.map((function(t){return o.createElement("div",{key:t.id,style:jt.listItem},o.createElement("div",{style:{width:56,height:56,borderRadius:14,background:"rgba(255,255,255,0.06)",display:"grid",placeItems:"center",fontWeight:900,fontSize:18,flexShrink:0},onClick:function(){return kt({id:t.id,title:t.title,artist:t.artist,album:t.album,isAudiobook:t.is_audiobook})}},"🎧"),o.createElement("div",{style:jt.liText,onClick:function(){return kt({id:t.id,title:t.title,artist:t.artist,album:t.album,isAudiobook:t.is_audiobook})}},o.createElement("div",{style:jt.liTitle},t.title||"Untitled"),o.createElement("div",{style:jt.liMeta},[t.artist,t.album].filter(Boolean).join(" • "))),o.createElement("button",{style:jt.btn,onClick:function(){return Et(k,t.id)}},"Remove"))})),0===L.length&&!P&&o.createElement("div",{style:ne({padding:12},jt.muted)},"No items in this playlist yet.")))))};return o.createElement("div",{style:jt.root},o.createElement("audio",{ref:at,src:N||void 0,preload:"meta  // Mini player progress const miniPct = duration ? Math.min(100, Math.max(0, (currentTime / duration) * 100)) : 0;\ndata",playsInline:!0,onEnded:function(){z(!1),null!=_&&_.id&&(pt(_.id,0,B||0),dt(_.id,0,B||0))}}),_&&"now"!==r&&o.createElement("div",{style:ne(ne({},jt.mini),{},{opacity:rt?.75:1}),onClick:function(){rt||(setNowOpen(!0),n("now"))}},o.createElement("div",{"aria-hidden":!0,style:{position:"absolute",inset:"-30%",background:"\n          linear-gradient(\n            120deg,\n            rgba(168,85,247,0.45),\n            rgba(56,189,248,0.45),\n            rgba(236,72,153,0.45),\n            rgba(99,102,241,0.45)\n          )\n        ",backgroundSize:"300% 300%",filter:"blur(28px)",animation:G?"auraShift 12s ease-in-out infinite, auraPulse 4.5s ease-in-out infinite":"auraPulse 6s ease-in-out infinite",pointerEvents:"none"}}),o.createElement("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"row",alignItems:"center",gap:10,width:"100%"}},o.createElement("div",{style:{width:46,height:46,borderRadius:12,background:"rgba(255,255,255,0.08)",display:"grid",placeItems:"center",fontSize:20,fontWeight:900,flexShrink:0,position:"relative"}},"🎧",rt&&o.createElement("div",{style:{position:"absolute",inset:0,display:"grid",placeItems:"center",background:"rgba(0,0,0,0.35)",borderRadius:12}},o.createElement("div",{style:{width:18,height:18,border:"3px solid rgba(255,255,255,0.35)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.9s linear infinite"}}))),o.createElement("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column",justifyContent:"center"},onClick:function(t){return t.stopPropagation()}},o.createElement("div",{style:ne(ne({},jt.miniTitle),{},{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},_.title||"Untitled"),o.createElement("input",{type:"range",min:0,max:Math.max(1,B||1),step:.25,value:Math.min(X,B||1),disabled:!B||rt,onMouseDown:function(){return $(!0)},onTouchStart:function(){return $(!0)},onChange:function(t){return K(Number(t.target.value))},onMouseUp:function(){var t=at.current;t&&(t.currentTime=Z),$(!1),q(Z)},onTouchEnd:function(){var t=at.current;t&&(t.currentTime=Z),$(!1),q(Z)},style:{width:"100%",marginTop:6,accentColor:"#fff",opacity:B?1:.4}})),o.createElement("button",{style:ne(ne({},jt.miniBtn),{},{flexShrink:0,opacity:rt?.6:1}),disabled:rt,onClick:function(t){t.stopPropagation(),Ot()}},G?"❚❚":"▶"))),"library"===r?o.createElement(Lt,null):null,"playlists"===r?o.createElement(At,null):null,o.createElement("div",{style:jt.bottomNav},o.createElement("div",{style:jt.navRow},o.createElement("button",{style:jt.navBtn("library"===r),onClick:function(){return n("library")}},"Library"),o.createElement("button",{style:jt.navBtn("playlists"===r),onClick:function(){return n("playlists")}},"Playlists"))))}const fe=function(){return o.createElement(Lt.a,{theme:At},o.createElement(a.Kd,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}},o.createElement(L,null,o.createElement(X,null,o.createElement(u.Ay,null),o.createElement(c.BV,null,o.createElement(c.qh,{index:!0,element:o.createElement(se,null)}),o.createElement(c.qh,{path:"sign-up",element:o.createElement(ct,null)}),o.createElement(c.qh,{path:"sign-in",element:o.createElement(jt,null)}))))))};var pe=document.getElementById("root");(0,i.H)(pe).render(o.createElement(fe,null))}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={exports:{}};return n[t](r,r.exports,i),r.exports}i.m=n,t=[],i.O=(e,r,n,o)=>{if(!r){var a=1/0;for(s=0;s<t.length;s++){for(var[r,n,o]=t[s],c=!0,u=0;u<r.length;u++)(!1&o||a>=o)&&Object.keys(i.O).every((t=>i.O[t](r[u])))?r.splice(u--,1):(c=!1,o<a&&(a=o));if(c){t.splice(s--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[r,n,o]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},r=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if("object"==typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&"function"==typeof t.then)return t}var o=Object.create(null);i.r(o);var a={};e=e||[null,r({}),r([]),r(r)];for(var c=2&n&&t;"object"==typeof c&&!~e.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((e=>a[e]=()=>t[e]));return a.default=()=>t,i.d(o,a),o},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={792:0};i.O.j=e=>0===t[e];var e=(e,r)=>{var n,o,[a,c,u]=r,l=0;if(a.some((e=>0!==t[e]))){for(n in c)i.o(c,n)&&(i.m[n]=c[n]);if(u)var s=u(i)}for(e&&e(r);l<a.length;l++)o=a[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(s)},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var a=i.O(void 0,[96],(()=>i(9986)));a=i.O(a)})();